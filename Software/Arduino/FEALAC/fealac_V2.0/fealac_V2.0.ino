//delacrar librerias
#include <SPI.h>
#include <Adafruit_GFX.h>
#include <Adafruit_PCD8544.h>
#include "BateryVisual.h"
#include "Menu.h"
//crear objetos
Adafruit_PCD8544 pantalla = Adafruit_PCD8544(8, 9, 10, 11, 12);
BateryVisual battV;
Menu menu;

static const unsigned char PROGMEM logo16_glcd_bmp[] =
{
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
  B00000000, B00000000, B10000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
  B00000000, B00000011, B11000000, B00000000, B00000000, B11111111, B11111111, B10000000, B00000000, B00000000, B00000000,
  B00000000, B00011111, B11100000, B00000000, B01111111, B00000000, B00000000, B01111000, B00000000, B00000000, B00000000,
  B00000011, B11111111, B11110000, B00000111, B10000000, B00000000, B00000000, B00000111, B00000000, B00000000, B00000000,
  B00111111, B11111111, B11110000, B00011000, B00000000, B00000000, B00000000, B00000000, B11100000, B00000000, B00000000,
  B01111111, B11111111, B11111000, B11100011, B11111111, B10000000, B00000000, B00000000, B00011000, B00000000, B00000000,
  B01111111, B11111111, B11111111, B11111100, B00000000, B01111000, B00000000, B00000000, B00000100, B00000000, B00000000,
  B01111111, B11111111, B11111111, B00000000, B00000000, B00000111, B00000000, B00000000, B00000011, B00000001, B10000000,
  B01111111, B11111111, B11111111, B10000000, B00000000, B00000000, B11100000, B00000000, B00000000, B10000111, B00000000,
  B00111111, B11111111, B11111111, B11000000, B00000000, B00000000, B00010000, B00000000, B00000000, B01111100, B00000000,
  B00001111, B11111111, B11111111, B11100000, B00000000, B00000000, B00001100, B00000000, B00000000, B00011000, B00000000,
  B00000111, B11111111, B11111111, B11110000, B00000000, B00000000, B00000010, B00000000, B00000000, B00000100, B00000000,
  B00000011, B11111111, B11111111, B11111100, B00000000, B00000000, B00000001, B10000000, B00000000, B00000010, B00000000,
  B00000001, B11111111, B11111111, B11111110, B00000000, B00000000, B00000000, B01000000, B00000000, B00000001, B00000000,
  B00000111, B01111111, B11111111, B11111111, B10000000, B00000000, B00000000, B00100000, B00000000, B00000000, B10000000,
  B00001100, B00111111, B11111111, B11111111, B11110000, B00000000, B00000000, B00010000, B00000000, B00000000, B01000000,
  B00011000, B00001111, B11111111, B11111111, B11111110, B00000000, B00000000, B00111000, B00000000, B00000000, B00100000,
  B00000000, B00000011, B11111111, B11111111, B11111111, B11100000, B00000111, B11111100, B00000000, B00000000, B00100000,
  B00000000, B00000001, B11111111, B11111111, B11111111, B11111111, B11111111, B11110010, B00000000, B00000000, B01100000,
  B00000000, B00000000, B00111111, B11111111, B11111111, B11111111, B11111111, B10000001, B00000000, B00001111, B10000000,
  B00000000, B00000000, B00001111, B11111111, B11111111, B11111111, B11111000, B00000000, B10000000, B01110000, B00000000,
  B00000000, B00000000, B00000001, B11111111, B11111111, B11111111, B10000000, B00000000, B01000111, B10000000, B00000000,
  B00000000, B00000000, B00000000, B00011111, B11111111, B11100000, B00000000, B00000000, B00111000, B00000000, B00000000,
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
  B00000000, B00000000, B00111111, B01111111, B00000100, B00111100, B00000010, B00000011, B11100000, B00000000, B00000000,
  B00000000, B00000000, B00010001, B00110001, B00001100, B00011000, B00000110, B00000110, B00110000, B00000000, B00000000,
  B00000000, B00000000, B00010000, B00110000, B00001110, B00011000, B00000111, B00001100, B00010000, B00000000, B00000000,
  B00000000, B00000000, B00010001, B00110010, B00011010, B00011000, B00001101, B00011000, B00000000, B00000000, B00000000,
  B00000000, B00000000, B00011111, B00111110, B00010011, B00011000, B00001001, B10011000, B00000000, B00000000, B00000000,
  B00000000, B00000000, B00010001, B00110010, B00011111, B00011000, B00001111, B10001000, B00000000, B00000000, B00000000,
  B00000000, B00000000, B00010000, B00110000, B00110001, B00011000, B00011000, B10001100, B00010000, B00000000, B00000000,
  B00000000, B00000000, B00010000, B00110001, B00100001, B10011000, B10010000, B11000110, B00110000, B00000000, B00000000,
  B00000000, B00000000, B00111000, B01111111, B01110011, B11011111, B10111001, B11100011, B11100000, B00000000, B00000000,
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000,
  B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000, B00000000
};
void setup() {
  pantalla.begin();
  pantalla.setContrast(50);
  pantalla.clearDisplay();

  // miniature bitmap display 
  pantalla.drawBitmap(0, 0,  logo16_glcd_bmp, 84, 43, 1);
  pantalla.display();
  pantalla.clearDisplay();
  delay(5000);
  
  battV.setDisplay(&pantalla);
  menu.setDisplay(&pantalla);

  menu.display(0);
  pantalla.display();
}
void loop() {
  menu.checkButton();
  menu.display(10);
  battV.display();
  delay(10);



  pantalla.display();

}

